{"ast":null,"code":"import _slicedToArray from\"C:/Users/daeun.kim/CarReserve/car-front-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Modal from'react-bootstrap/Modal';import{useState}from'react';import axios from'axios';import'./modal.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Popup(_ref){var open=_ref.open,close=_ref.close,setPopup=_ref.setPopup,message=_ref.message,title=_ref.title,callback=_ref.callback;var _useState=useState(\"K7\"),_useState2=_slicedToArray(_useState,2),car_name=_useState2[0],set_car_name=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],set_users=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),start=_useState6[0],set_start=_useState6[1];//const [end, set_end] = useState(\"\");\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),all_ok=_useState8[0],set_all_ok=_useState8[1];var is_ok=function is_ok(e){e.preventDefault();if(users.length===0){alert(\"사용자명을 입력해주세요\");return false;}if(start.length===0){alert(\"사용일을 입력해주세요\");return false;}else if(window.confirm(\"\\uCC28\\uC885: \".concat(car_name,\" \\uC0AC\\uC6A9\\uC790: \").concat(users,\" \\uC0AC\\uC6A9\\uC77C: \").concat(start,\"\\uAC00 \\uB9DE\\uB294\\uC9C0 \\uB2E4\\uC2DC \\uD55C\\uBC88 \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694\"))){var event_data={title:car_name,display:users,start:new Date(start)//end: new Date(end)\n};var url=\"https://fathomless-waters-67933.herokuapp.com/events\";axios.post(url,event_data,{'Content-Type':'application/json'});window.location.href=\"/\";}};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!all_ok){set_all_ok(is_ok(e));}};return/*#__PURE__*/_jsx(\"div\",{className:open?'openModal modal':'modal',children:open?/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Modal.Title,{children:title})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"form\",{id:\"addEvent\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"car_name\",form:\"addEvent\",onChange:function onChange(e){set_car_name(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"K7\",children:\"K7\"}),/*#__PURE__*/_jsx(\"option\",{value:\"K9\",children:\"K9\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"string\",placeholder:\"\\uC0AC\\uC6A9\\uC790\\uBA85\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:function onChange(e){set_users(e.target.value);},name:\"users\"}),/*#__PURE__*/_jsx(\"input\",{type:\"Date\",placeholder:\"\\uC0AC\\uC6A9\\uC77C\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:function onChange(e){set_start(e.target.value);},name:\"start\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:function onClick(e){handleSubmit(e);}})]})}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"close\",onClick:close,children:\"close\"})})]}):null});}export default Popup;","map":{"version":3,"names":["Modal","useState","axios","Popup","open","close","setPopup","message","title","callback","car_name","set_car_name","users","set_users","start","set_start","all_ok","set_all_ok","is_ok","e","preventDefault","length","alert","window","confirm","event_data","display","Date","url","post","location","href","handleSubmit","target","value"],"sources":["C:/Users/daeun.kim/CarReserve/car-front-react/src/components/popup.js"],"sourcesContent":["import Modal from 'react-bootstrap/Modal';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './modal.css';\r\n\r\nfunction Popup({open, close, setPopup, message, title, callback}) {\r\n  const [car_name, set_car_name] = useState(\"K7\");\r\n  const [users, set_users] = useState(\"\");\r\n  const [start, set_start] = useState(\"\");\r\n  //const [end, set_end] = useState(\"\");\r\n  const [all_ok, set_all_ok] = useState(false);\r\n\r\n  const is_ok = (e) => {\r\n    e.preventDefault()\r\n    if (users.length === 0){\r\n      alert(\"사용자명을 입력해주세요\");\r\n      return false\r\n    }\r\n    if (start.length === 0){\r\n      alert(\"사용일을 입력해주세요\");\r\n      return false\r\n    }\r\n    else if(window.confirm(`차종: ${car_name} 사용자: ${users} 사용일: ${start}가 맞는지 다시 한번 확인해주세요`)){\r\n      const event_data = {\r\n        title: car_name,\r\n        display: users,\r\n        start: new Date(start),\r\n        //end: new Date(end)\r\n      };\r\n      const url = \"https://fathomless-waters-67933.herokuapp.com/events\";\r\n      axios.post(url,event_data,{\r\n        'Content-Type': 'application/json',\r\n    }, );\r\n    window.location.href = \"/\"\r\n  }\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n      e.preventDefault()\r\n      if (!all_ok){\r\n        set_all_ok(is_ok(e))\r\n      }\r\n  }\r\n\r\n    return (\r\n\r\n      <div className={open ? 'openModal modal' : 'modal'}>\r\n      {open ? (\r\n        <section>\r\n          <header>\r\n          <Modal.Title>{title}</Modal.Title>\r\n          </header>\r\n          <main>< form id='addEvent'>\r\n              <select name=\"car_name\" form=\"addEvent\" onChange={(e)=>{set_car_name(e.target.value)}}>\r\n                <option value=\"K7\">K7</option>\r\n                <option value=\"K9\">K9</option>\r\n            </select>\r\n              <input\r\n                type=\"string\"\r\n                placeholder=\"사용자명을 입력하세요\"\r\n                onChange={(e)=>{set_users(e.target.value)}}\r\n                name='users'\r\n              />\r\n              <input\r\n                type=\"Date\"\r\n                placeholder=\"사용일을 입력하세요\"\r\n                onChange={(e)=>{set_start(e.target.value)}}\r\n                name='start'\r\n              />\r\n              < input type='submit' onClick={(e)=>{handleSubmit(e)}}/>\r\n            </form ></main>\r\n          <footer>\r\n            <button className=\"close\" onClick={close}>\r\n              close\r\n            </button>\r\n          </footer>\r\n        </section>\r\n      ) : null}\r\n    </div>\r\n      \r\n    );\r\n}\r\n\r\nexport default Popup;"],"mappings":"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"},"metadata":{},"sourceType":"module"}