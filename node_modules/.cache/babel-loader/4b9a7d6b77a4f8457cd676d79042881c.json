{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/daeun.kim/CarReserve/car-front-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/daeun.kim/CarReserve/car-front-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/daeun.kim/CarReserve/car-front-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import FullCalendar from'@fullcalendar/react';// must go before plugins\nimport dayGridPlugin from'@fullcalendar/daygrid';// a plugin!\nimport interactionPlugin from'@fullcalendar/interaction';import Popup from'./components/popup';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Calendar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),event_data=_useState2[0],set_event_data=_useState2[1];var _useState3=useState({open:false,title:\"\",message:\"\",callback:false}),_useState4=_slicedToArray(_useState3,2),popup=_useState4[0],setPopup=_useState4[1];useEffect(function(){function readEvent(){return _readEvent.apply(this,arguments);}function _readEvent(){_readEvent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"http://localhost:1323/events/all\";//const url = \"https://shrouded-headland-42492.herokuapp.com/events/all\"\n_context.next=3;return axios.get(url);case 3:response=_context.sent;set_event_data(response.data.event_arr);console.log(\"성공\");console.log(response.data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _readEvent.apply(this,arguments);}readEvent();},[]);var closePopup=function closePopup(){setPopup({open:false});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Popup,{open:popup.open,close:closePopup,setPopup:setPopup,message:popup.message,title:popup.title,callback:popup.callback}),/*#__PURE__*/_jsx(FullCalendar,{plugins:[dayGridPlugin,interactionPlugin],editable:true,selectable:true,eventClick:handleEventClick,events:event_data,customButtons:{myCustomButton:{text:'차량예약하기',click:function click(){setPopup({open:true,title:\"차량 예약하기\",message:\"차종과 사용자명을 입력해주세요.\"});return;}}},headerToolbar:{left:'prev,next today',center:'title',right:'myCustomButton prev,next'}})]});}function handleEventClick(info){// bind with an arrow function\nalert(info.event.title+'\\n'+info.event.display);// change the border color just for fun\ninfo.el.style.backgroundColor='red';}export default Calendar;","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","interactionPlugin","Popup","axios","Calendar","event_data","set_event_data","open","title","message","callback","popup","setPopup","readEvent","url","get","response","data","event_arr","console","log","closePopup","handleEventClick","myCustomButton","text","click","left","center","right","info","alert","event","display","el","style","backgroundColor"],"sources":["C:/Users/daeun.kim/CarReserve/car-front-react/src/App.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\nimport FullCalendar from '@fullcalendar/react' // must go before plugins\nimport dayGridPlugin from '@fullcalendar/daygrid' // a plugin!\nimport interactionPlugin from '@fullcalendar/interaction'\nimport Popup from './components/popup';\nimport axios from 'axios';\n\nfunction Calendar() {\n  const [event_data, set_event_data] = useState([]);\n  const [popup, setPopup] = useState({open: false, title: \"\", message: \"\", callback: false});\n\n  useEffect(()=>{\n    async function readEvent() {\n      const url = \"http://localhost:1323/events/all\";\n      //const url = \"https://shrouded-headland-42492.herokuapp.com/events/all\"\n      const response = await axios.get(url);\n      set_event_data(response.data.event_arr);\n      console.log(\"성공\");\n      console.log(response.data);\n    }\n    readEvent();\n  },[]);\n\n  const closePopup = () => {\n    setPopup({\n      open: false\n    });\n  }\n\n  return (\n    <>\n    <Popup open = {popup.open} close={closePopup} setPopup = {setPopup} message = {popup.message} title = {popup.title} callback = {popup.callback}/>\n    <FullCalendar\n    plugins={[dayGridPlugin, interactionPlugin]}\n    editable\n    selectable\n    eventClick={handleEventClick}\n    events={event_data}\n    customButtons={{myCustomButton: {text: '차량예약하기',\n    click: function() {\n      setPopup({\n        open: true,\n        title: \"차량 예약하기\",\n        message: \"차종과 사용자명을 입력해주세요.\"\n      });\n      return;\n    }\n  }}\n}\n    headerToolbar={{left: 'prev,next today',\n    center: 'title',\n    right: 'myCustomButton prev,next'}}\n  />\n  </>\n  )\n}\n\nfunction handleEventClick(info) { // bind with an arrow function\n  alert(info.event.title + '\\n' + info.event.display);\n  // change the border color just for fun\n  info.el.style.backgroundColor = 'red';\n}\n\nexport default Calendar;"],"mappings":"yZAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAOC,aAAP,KAAyB,qBAAzB,CAA+C;AAC/C,MAAOC,cAAP,KAA0B,uBAA1B,CAAkD;AAClD,MAAOC,kBAAP,KAA8B,2BAA9B,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,6IAEA,QAASC,SAAT,EAAoB,CAClB,cAAqCP,QAAQ,CAAC,EAAD,CAA7C,wCAAOQ,UAAP,eAAmBC,cAAnB,eACA,eAA0BT,QAAQ,CAAC,CAACU,IAAI,CAAE,KAAP,CAAcC,KAAK,CAAE,EAArB,CAAyBC,OAAO,CAAE,EAAlC,CAAsCC,QAAQ,CAAE,KAAhD,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eAEAd,SAAS,CAAC,UAAI,SACGe,UADH,uIACZ,sJACQC,GADR,CACc,kCADd,CAEE;AAFF,sBAGyBX,MAAK,CAACY,GAAN,CAAUD,GAAV,CAHzB,QAGQE,QAHR,eAIEV,cAAc,CAACU,QAAQ,CAACC,IAAT,CAAcC,SAAf,CAAd,CACAC,OAAO,CAACC,GAAR,CAAY,IAAZ,EACAD,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAArB,EANF,sDADY,4CASZJ,SAAS,GACV,CAVQ,CAUP,EAVO,CAAT,CAYA,GAAMQ,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvBT,QAAQ,CAAC,CACPL,IAAI,CAAE,KADC,CAAD,CAAR,CAGD,CAJD,CAMA,mBACE,wCACA,KAAC,KAAD,EAAO,IAAI,CAAII,KAAK,CAACJ,IAArB,CAA2B,KAAK,CAAEc,UAAlC,CAA8C,QAAQ,CAAIT,QAA1D,CAAoE,OAAO,CAAID,KAAK,CAACF,OAArF,CAA8F,KAAK,CAAIE,KAAK,CAACH,KAA7G,CAAoH,QAAQ,CAAIG,KAAK,CAACD,QAAtI,EADA,cAEA,KAAC,YAAD,EACA,OAAO,CAAE,CAACV,aAAD,CAAgBC,iBAAhB,CADT,CAEA,QAAQ,KAFR,CAGA,UAAU,KAHV,CAIA,UAAU,CAAEqB,gBAJZ,CAKA,MAAM,CAAEjB,UALR,CAMA,aAAa,CAAE,CAACkB,cAAc,CAAE,CAACC,IAAI,CAAE,QAAP,CAChCC,KAAK,CAAE,gBAAW,CAChBb,QAAQ,CAAC,CACPL,IAAI,CAAE,IADC,CAEPC,KAAK,CAAE,SAFA,CAGPC,OAAO,CAAE,mBAHF,CAAD,CAAR,CAKA,OACD,CAR+B,CAAjB,CANf,CAiBA,aAAa,CAAE,CAACiB,IAAI,CAAE,iBAAP,CACfC,MAAM,CAAE,OADO,CAEfC,KAAK,CAAE,0BAFQ,CAjBf,EAFA,GADF,CA0BD,CAED,QAASN,iBAAT,CAA0BO,IAA1B,CAAgC,CAAE;AAChCC,KAAK,CAACD,IAAI,CAACE,KAAL,CAAWvB,KAAX,CAAmB,IAAnB,CAA0BqB,IAAI,CAACE,KAAL,CAAWC,OAAtC,CAAL,CACA;AACAH,IAAI,CAACI,EAAL,CAAQC,KAAR,CAAcC,eAAd,CAAgC,KAAhC,CACD,CAED,cAAe/B,SAAf"},"metadata":{},"sourceType":"module"}